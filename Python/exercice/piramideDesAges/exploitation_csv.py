f = open('C:/Users/bapt8/OneDrive/Documents/GitHub/nsi_1er/Python/exercice/piramideDesAges/pda.csv',"r") #ouverture du ficher csv en lecture (r read)

data = f.readlines() #on lit toutes les lignes et on stocke dans le tableau "data"

f.close() #on referme le fichier

#print (data)
# print (data) #Commenter maintenant cette ligne

# On construit les listes des valeurs utiles

year = []

age = []

popu = []

sep = ";" #caractère séparateur du csv



for ligne in data:

    ligne = ligne.strip().split(sep) #on sépare avec le caractère séparateur sep
    year.append(int(ligne[0]))
    age.append(int(ligne[1]))
    popu.append(int(ligne[4]))


somme=0
tab=[]
for i in range(0,5):

    print(popu[i])

print("--> popu d'age entre 10 et 18 <--")
for i in age:
    if age[i] <= 10 or age[i] <= 18:
        print(popu[i])

print("--> popu total <--")
for i in range(len(popu)):
    print(popu[i])

def popentreage(age1, age2):
    returnVal = []
    for i in age:
        if age[i] <= age1 or age[i] <= age2:
            returnVal.append(popu[i])
    return returnVal

print("--> fx popentreage <--")
print(popentreage(10, 18))

print("--> ************ <--")

for i in range(0,5):

    print(age[i])
    tab.append(i)

print(tab)

print("--> tabR <--")
tabR = []
for i in range(len(popu)):
    if popu[i] >= 830000:
        if age[i] <= 10 or age[i] <= 18:
            tabR.append(age[i])
print(tabR)


print("--> tabR 2 <--")
tabR2 = []
for i in range(len(popu)):
    if popu[i] >= 700000:
        tabR2.append(age[i])
print(tabR2)

print("--> tabR 3 <--")
tabR3 = []
for i in range(len(popu)):
    if popu[i] >= 900000:
        tabR3.append(year[i])
print(tabR3)


moyenne = 0
for i in range(len(tabR2)):
    moyenne += age[tabR2[i]]

moyenne /= (len(tabR2))
print("moyenn -->", moyenne)


print("années de naissance où la population est de moins de 100000 personnes")
print("--> tabR 3->4 (revision 2) <--")
ado = 0
active = 0
nonActive = 0
tabR4 = []
for i in range(len(popu)):
    if popu[i] <= 100000 :
        tabR4.append(year[i])
print(tabR4)
for i in range(len(tabR4)):
    if tabR4[i] > 2004:
        ado += 1
    elif tabR4[i] <= 2004 and tabR4[i] >= 1955:
        active += 1
    elif tabR[4] < 1955:
        nonActive += 1
print("ado =", ado/len(tabR4)*100, "%", "; active =", active/len(tabR4)*100, "%", "; non active", nonActive/len(tabR4)*100, "%")


print("\n--> *** <--")
index = 0
popuMax = 0
for i in range(len(year)):
    if age[i] >= 15 and age[i] <= 25:
        if popu[i] > popuMax:
            popuMax = popu[i]
            index = i
print(age[index], "ans, population maximale de cet âge pour la tranche d'âge 15-25 ans ->", popu[index])


print("\ntranta quadra quinqua")
trent = 0
quadra = 0
quinqua = 0
for i in range(len(year)):
    if year[i] < 1989 and year[i] >= 1979:
        trent += popu[i]
    if year[i] < 1979 and year[i] >= 1969:
        quadra += popu[i]
    if year[i] < 1969 and year[i] >= 1959:
        quinqua += popu[i]

print("pop trentenaires-->", trent, "; pop quadragénaires-->", quadra, "; pop quinquagénaires-->", quinqua)
#30 : 8 292 129
#40 : 8 669 371
#50 : 8 821 983


print("\n--> occurence <--")
def occurence(population):
    nb = 0
    for i in range(len(popu)):
        if popu[i] >= population:
            nb += 1
    return nb

print("occurence -->", occurence(800000))   #renvoie : 48 années